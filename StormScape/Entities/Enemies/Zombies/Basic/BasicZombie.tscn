[gd_scene load_steps=147 format=3 uid="uid://bl2igmtwo1a3v"]

[ext_resource type="Script" uid="uid://db4npghrxc6u" path="res://Entities/Enemies/Zombies/Basic/BasicZombie.gd" id="1_8bt15"]
[ext_resource type="PackedScene" uid="uid://cj2wy5f05cos4" path="res://Entities/EntityCore/Shadow/EntityShadow.tscn" id="1_ko3ep"]
[ext_resource type="PackedScene" uid="uid://dh4ydl7l86ywq" path="res://Entities/EntityCore/Sprites/EntitySprite.tscn" id="2_8a5el"]
[ext_resource type="Script" uid="uid://dwmur0cosbbwh" path="res://UI/Inventory/InventoryCore/InventoryResource.gd" id="2_dcca3"]
[ext_resource type="Shader" uid="uid://cfbagv3hrtar2" path="res://Utilities/Game/Shaders/EntityEffectShader.gdshader" id="3_3cie3"]
[ext_resource type="PackedScene" uid="uid://bhcqtorpyerc3" path="res://Utilities/Debug/ParticleEmissionComponent.tscn" id="3_6bt22"]
[ext_resource type="Script" uid="uid://dp8osf7r6xkkt" path="res://Entities/Items/ItemCore/InvItemResource.gd" id="3_hj6es"]
[ext_resource type="PackedScene" uid="uid://di7vcyrki71nm" path="res://Entities/Components/DetectionComponent/DetectionComponent.tscn" id="3_tsyff"]
[ext_resource type="Texture2D" uid="uid://yypje8l5ouqy" path="res://Entities/Enemies/Zombies/Basic/BasicZombieBaseFramesCT.tres" id="4_8a5el"]
[ext_resource type="PackedScene" uid="uid://co3n6m7efg8pd" path="res://Entities/Components/EffectComponents/StatusEffectsComponent/StatusEffectsComponent.tscn" id="5_g4fx3"]
[ext_resource type="Resource" uid="uid://dk3vlbvu2b7eq" path="res://Entities/Items/TRESItems/MeleeWeapons/Sword(4).tres" id="5_oiiqe"]
[ext_resource type="Resource" uid="uid://bcvljie626314" path="res://Entities/Items/TRESItems/Ammo/Heavy(0).tres" id="5_yrrsd"]
[ext_resource type="PackedScene" uid="uid://b7gdy01q8wsjx" path="res://Entities/Components/ItemComponents/HandsComponent/HandsComponent.tscn" id="6_j2ytj"]
[ext_resource type="Resource" uid="uid://8uj8fwadqlk0" path="res://Entities/Items/TRESItems/WorldResources/Stick(0).tres" id="6_oiiqe"]
[ext_resource type="PackedScene" uid="uid://cdfdy8m6ki3oq" path="res://Entities/Components/HealthComponent/HealthComponent.tscn" id="7_gh5xt"]
[ext_resource type="Script" uid="uid://baglarh3m4c8o" path="res://Entities/Components/ItemComponents/LootTableComponent/LootTableResource.gd" id="7_qrtn1"]
[ext_resource type="PackedScene" uid="uid://btba0jmsow1mx" path="res://Entities/Components/EffectComponents/EffectReceiverComponent/EffectReceiverComponent.tscn" id="8_u4xth"]
[ext_resource type="Texture2D" uid="uid://cs3clmnktksd6" path="res://Entities/Player/PlayerCore/player_hand.png" id="9_5go1u"]
[ext_resource type="PackedScene" uid="uid://4gl24qwdyti3" path="res://Entities/Components/EffectComponents/EffectReceiverComponent/EffectHandlers/DmgHandler.tscn" id="9_eigs2"]
[ext_resource type="PackedScene" uid="uid://cxpv7l7rcaq1o" path="res://Entities/Components/StaminaComponent/StaminaComponent.tscn" id="10_kc883"]
[ext_resource type="PackedScene" uid="uid://ddj5ippwwkvop" path="res://Entities/Components/EffectComponents/EffectReceiverComponent/EffectHandlers/HealHandler.tscn" id="10_mbh3n"]
[ext_resource type="Script" uid="uid://dk6uef3uxmeev" path="res://Entities/Components/EffectComponents/EffectReceiverComponent/EffectHandlers/KnockbackHandler.gd" id="16_yrrsd"]
[ext_resource type="Script" uid="uid://b21sy1r0nxgpv" path="res://Entities/Components/EffectComponents/EffectReceiverComponent/EffectHandlers/StunHandler.gd" id="17_oiiqe"]
[ext_resource type="Script" uid="uid://5krnqdrdbey1" path="res://Entities/Components/EffectComponents/EffectReceiverComponent/EffectHandlers/PoisonHandler.gd" id="18_qrtn1"]
[ext_resource type="Script" uid="uid://1qq7eo7lm8j6" path="res://Entities/Components/ItemComponents/LootTableComponent/LootTableEntry.gd" id="19_8bt15"]
[ext_resource type="Script" uid="uid://bqw1ufs6jb7cf" path="res://Entities/Components/EffectComponents/EffectReceiverComponent/EffectHandlers/RegenHandler.gd" id="19_lal78"]
[ext_resource type="Script" uid="uid://b1lo2mdb3otax" path="res://Entities/Components/EffectComponents/EffectReceiverComponent/EffectHandlers/FrostbiteHandler.gd" id="20_cw5if"]
[ext_resource type="Script" uid="uid://dubq8xgav66ue" path="res://Entities/Components/EffectComponents/EffectReceiverComponent/EffectHandlers/BurningHandler.gd" id="21_oqrkc"]
[ext_resource type="Script" uid="uid://5w234psf0oln" path="res://Entities/Components/EffectComponents/EffectReceiverComponent/EffectHandlers/TimeSnareHandler.gd" id="22_s1u3v"]
[ext_resource type="Script" uid="uid://ckiyd2nbdcofr" path="res://Entities/Components/EffectComponents/EffectReceiverComponent/EffectHandlers/LifeStealHandler.gd" id="23_n5xoq"]
[ext_resource type="Texture2D" uid="uid://crawnbhc5weqf" path="res://Entities/EntityCore/EntityTypes/DynamicEntity/entity_footstep.png" id="25_kc883"]
[ext_resource type="Script" uid="uid://c28itqxmeqbq0" path="res://Entities/FSM/FSMCore/StateMachine.gd" id="27_5gwv1"]
[ext_resource type="PackedScene" uid="uid://jpq0ij8wwlhy" path="res://Entities/Components/FacingComponent/FacingComponent.tscn" id="27_pfgxp"]
[ext_resource type="Script" uid="uid://i7ucoc123rpe" path="res://Entities/FSM/States/BaseStates/SpawnState.gd" id="29_vjlik"]
[ext_resource type="Script" uid="uid://cbyg4eleptthh" path="res://Entities/FSM/States/BaseStates/StunnedState.gd" id="30_5gwv1"]
[ext_resource type="Script" uid="uid://dmww6wp6kw08q" path="res://Entities/FSM/FSMCore/DynamicAIController.gd" id="30_tsyff"]
[ext_resource type="Script" uid="uid://c2sjdkql76qca" path="res://Entities/FSM/States/BaseStates/IdleState.gd" id="30_vjlik"]
[ext_resource type="Script" uid="uid://cbuaklpos5jdp" path="res://Entities/FSM/States/BaseStates/DieState.gd" id="32_kuvhw"]
[ext_resource type="Script" uid="uid://bvla7pmnsimif" path="res://Entities/FSM/FSMCore/State.gd" id="33_qrtn1"]
[ext_resource type="Script" uid="uid://q3yeopc5wdlo" path="res://Entities/FSM/States/EnemyStates/ChaseState.gd" id="34_dcca3"]
[ext_resource type="Resource" uid="uid://cs2y6ebkb3wa7" path="res://Entities/FSM/FSMCore/MoveBehaviors/FullApproach.tres" id="40_lal78"]

[sub_resource type="Resource" id="Resource_yrrsd"]
script = ExtResource("2_dcca3")
title = "CHEST"
main_inv_size = 10
drop_on_death = false
starting_inv = Array[ExtResource("3_hj6es")]([])

[sub_resource type="Resource" id="Resource_qrtn1"]
script = ExtResource("19_8bt15")
item = ExtResource("5_oiiqe")
quantity = 1
weighting = 1.0
last_used = 0
spawn_count = 0
metadata/_custom_type_script = "uid://1qq7eo7lm8j6"

[sub_resource type="Resource" id="Resource_lal78"]
script = ExtResource("19_8bt15")
item = ExtResource("5_yrrsd")
quantity = 5
weighting = 1.0
last_used = 0
spawn_count = 0
metadata/_custom_type_script = "uid://1qq7eo7lm8j6"

[sub_resource type="Resource" id="Resource_cw5if"]
script = ExtResource("19_8bt15")
item = ExtResource("6_oiiqe")
quantity = 3
weighting = 5.0
last_used = 0
spawn_count = 0
metadata/_custom_type_script = "uid://1qq7eo7lm8j6"

[sub_resource type="Resource" id="Resource_oqrkc"]
script = ExtResource("7_qrtn1")
hit_loot_table = Array[ExtResource("19_8bt15")]([SubResource("Resource_lal78"), SubResource("Resource_cw5if")])
hit_spawn_chance = 2.0
hit_chance_scale = 1
remove_when_dropped = false
require_dmg_on_hit = true
hp_percent_hit_checks = 15
die_loot_table = Array[ExtResource("19_8bt15")]([SubResource("Resource_qrtn1")])
die_spawn_chance = 15.0
rarity_scaling_factors = Dictionary[int, float]({
0: 0.5,
1: 0.4,
2: 0.3,
3: 0.1,
4: 0.05,
5: 0.005
})
metadata/_custom_type_script = "uid://baglarh3m4c8o"

[sub_resource type="CapsuleShape2D" id="CapsuleShape2D_2h2fy"]
radius = 3.0
height = 16.0

[sub_resource type="OccluderPolygon2D" id="OccluderPolygon2D_6bt22"]
polygon = PackedVector2Array(-5, -2.98466, -6, -1.98977, -5, 0, 5, 0, 6, -1.98977, 5, -2.98466)

[sub_resource type="ShaderMaterial" id="ShaderMaterial_lal78"]
resource_local_to_scene = true
shader = ExtResource("3_3cie3")

[sub_resource type="AtlasTexture" id="AtlasTexture_3cie3"]
atlas = ExtResource("4_8a5el")
region = Rect2(0, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_g4fx3"]
atlas = ExtResource("4_8a5el")
region = Rect2(32, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_j2ytj"]
atlas = ExtResource("4_8a5el")
region = Rect2(64, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_gh5xt"]
atlas = ExtResource("4_8a5el")
region = Rect2(96, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_u4xth"]
atlas = ExtResource("4_8a5el")
region = Rect2(128, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_2ks4g"]
atlas = ExtResource("4_8a5el")
region = Rect2(160, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_n4di3"]
atlas = ExtResource("4_8a5el")
region = Rect2(0, 64, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_ui78k"]
atlas = ExtResource("4_8a5el")
region = Rect2(32, 64, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_56tj5"]
atlas = ExtResource("4_8a5el")
region = Rect2(64, 64, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_7745q"]
atlas = ExtResource("4_8a5el")
region = Rect2(96, 64, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_40opp"]
atlas = ExtResource("4_8a5el")
region = Rect2(128, 64, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_t3hx4"]
atlas = ExtResource("4_8a5el")
region = Rect2(160, 64, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_eigs2"]
atlas = ExtResource("4_8a5el")
region = Rect2(0, 128, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_mbh3n"]
atlas = ExtResource("4_8a5el")
region = Rect2(32, 128, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_3l4yw"]
atlas = ExtResource("4_8a5el")
region = Rect2(64, 128, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_u70e3"]
atlas = ExtResource("4_8a5el")
region = Rect2(96, 128, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_2qho1"]
atlas = ExtResource("4_8a5el")
region = Rect2(128, 128, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_8bt15"]
atlas = ExtResource("4_8a5el")
region = Rect2(160, 128, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_lm42a"]
atlas = ExtResource("4_8a5el")
region = Rect2(0, 192, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_epk84"]
atlas = ExtResource("4_8a5el")
region = Rect2(32, 192, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_coxcp"]
atlas = ExtResource("4_8a5el")
region = Rect2(64, 192, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_csnjs"]
atlas = ExtResource("4_8a5el")
region = Rect2(96, 192, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_kc883"]
atlas = ExtResource("4_8a5el")
region = Rect2(128, 192, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_5go1u"]
atlas = ExtResource("4_8a5el")
region = Rect2(160, 192, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_6bt22"]
atlas = ExtResource("4_8a5el")
region = Rect2(0, 32, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_cqenq"]
atlas = ExtResource("4_8a5el")
region = Rect2(32, 32, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_5gwv1"]
atlas = ExtResource("4_8a5el")
region = Rect2(64, 32, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_vjlik"]
atlas = ExtResource("4_8a5el")
region = Rect2(96, 32, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_kuvhw"]
atlas = ExtResource("4_8a5el")
region = Rect2(128, 32, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_pfgxp"]
atlas = ExtResource("4_8a5el")
region = Rect2(160, 32, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_tsyff"]
atlas = ExtResource("4_8a5el")
region = Rect2(0, 96, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_dcca3"]
atlas = ExtResource("4_8a5el")
region = Rect2(32, 96, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_hj6es"]
atlas = ExtResource("4_8a5el")
region = Rect2(64, 96, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_yrrsd"]
atlas = ExtResource("4_8a5el")
region = Rect2(96, 96, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_oiiqe"]
atlas = ExtResource("4_8a5el")
region = Rect2(128, 96, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_qrtn1"]
atlas = ExtResource("4_8a5el")
region = Rect2(160, 96, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_lal78"]
atlas = ExtResource("4_8a5el")
region = Rect2(0, 160, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_cw5if"]
atlas = ExtResource("4_8a5el")
region = Rect2(32, 160, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_oqrkc"]
atlas = ExtResource("4_8a5el")
region = Rect2(64, 160, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_s1u3v"]
atlas = ExtResource("4_8a5el")
region = Rect2(96, 160, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_n5xoq"]
atlas = ExtResource("4_8a5el")
region = Rect2(128, 160, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_3s3sr"]
atlas = ExtResource("4_8a5el")
region = Rect2(160, 160, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_ylj7g"]
atlas = ExtResource("4_8a5el")
region = Rect2(0, 224, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_naanu"]
atlas = ExtResource("4_8a5el")
region = Rect2(32, 224, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_nonw0"]
atlas = ExtResource("4_8a5el")
region = Rect2(64, 224, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_6vrim"]
atlas = ExtResource("4_8a5el")
region = Rect2(96, 224, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_86drt"]
atlas = ExtResource("4_8a5el")
region = Rect2(128, 224, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_kq2k7"]
atlas = ExtResource("4_8a5el")
region = Rect2(160, 224, 32, 32)

[sub_resource type="SpriteFrames" id="SpriteFrames_gi80f"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_3cie3")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_g4fx3")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_j2ytj")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_gh5xt")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_u4xth")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_2ks4g")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_n4di3")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ui78k")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_56tj5")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_7745q")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_40opp")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_t3hx4")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_eigs2")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_mbh3n")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_3l4yw")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_u70e3")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_2qho1")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_8bt15")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_lm42a")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_epk84")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_coxcp")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_csnjs")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_kc883")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_5go1u")
}],
"loop": true,
"name": &"idle",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_6bt22")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_cqenq")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_5gwv1")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_vjlik")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_kuvhw")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_pfgxp")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_tsyff")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_dcca3")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_hj6es")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_yrrsd")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_oiiqe")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_qrtn1")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_lal78")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_cw5if")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_oqrkc")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_s1u3v")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_n5xoq")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_3s3sr")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ylj7g")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_naanu")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_nonw0")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_6vrim")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_86drt")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_kq2k7")
}],
"loop": true,
"name": &"run",
"speed": 5.0
}]

[sub_resource type="Resource" id="Resource_s1u3v"]
resource_local_to_scene = true
script = ExtResource("16_yrrsd")
_knockback_weakness = 0.0
_knockback_resistance = 0.0
entity_dir_influence = 0.25
metadata/_custom_type_script = "uid://dk6uef3uxmeev"

[sub_resource type="Resource" id="Resource_n5xoq"]
resource_local_to_scene = true
script = ExtResource("17_oiiqe")
_stun_weakness = 0.0
_stun_resistance = 0.0
metadata/_custom_type_script = "uid://b21sy1r0nxgpv"

[sub_resource type="Resource" id="Resource_3s3sr"]
resource_local_to_scene = true
script = ExtResource("18_qrtn1")
_poison_weakness = 0.0
_poison_resistance = 0.0
metadata/_custom_type_script = "uid://5krnqdrdbey1"

[sub_resource type="Resource" id="Resource_ylj7g"]
resource_local_to_scene = true
script = ExtResource("19_lal78")
_regen_boost = 0.0
_regen_penalty = 0.0
metadata/_custom_type_script = "uid://bqw1ufs6jb7cf"

[sub_resource type="Resource" id="Resource_naanu"]
resource_local_to_scene = true
script = ExtResource("20_cw5if")
_frostbite_weakness = 0.0
_frostbite_resistance = 0.0
metadata/_custom_type_script = "uid://b1lo2mdb3otax"

[sub_resource type="Resource" id="Resource_nonw0"]
resource_local_to_scene = true
script = ExtResource("21_oqrkc")
_burning_weakness = 0.0
_burning_resistance = 0.0
metadata/_custom_type_script = "uid://dubq8xgav66ue"

[sub_resource type="Resource" id="Resource_6vrim"]
resource_local_to_scene = true
script = ExtResource("22_s1u3v")
_time_snare_immunity = 0.0
metadata/_custom_type_script = "uid://5w234psf0oln"

[sub_resource type="Resource" id="Resource_86drt"]
resource_local_to_scene = true
script = ExtResource("23_n5xoq")
metadata/_custom_type_script = "uid://ckiyd2nbdcofr"

[sub_resource type="RectangleShape2D" id="RectangleShape2D_2ks4g"]
size = Vector2(16, 28)

[sub_resource type="Resource" id="Resource_i4r08"]
script = ExtResource("29_vjlik")
metadata/_custom_type_script = "uid://i7ucoc123rpe"

[sub_resource type="Resource" id="Resource_kq2k7"]
script = ExtResource("30_vjlik")
metadata/_custom_type_script = "uid://c2sjdkql76qca"

[sub_resource type="Resource" id="Resource_175e0"]
script = ExtResource("34_dcca3")
chase_speed_mult = 1.0
chase_sprint_speed_mult = 1.0
DEFAULT_RUN_ANIM_TIME_SCALE = 1.5
MAX_RUN_ANIM_TIME_SCALE = 4.0
metadata/_custom_type_script = "uid://q3yeopc5wdlo"

[sub_resource type="Resource" id="Resource_gtdxm"]
script = ExtResource("30_5gwv1")
metadata/_custom_type_script = "uid://cbyg4eleptthh"

[sub_resource type="Resource" id="Resource_6hj0o"]
script = ExtResource("32_kuvhw")
metadata/_custom_type_script = "uid://cbuaklpos5jdp"

[sub_resource type="Animation" id="Animation_mbh3n"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("YSorter/EntitySprite:animation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [&"idle"]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("YSorter/EntitySprite:frame")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [0]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("YSorter:scale")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(1, 1)]
}

[sub_resource type="Animation" id="Animation_u70e3"]
resource_name = "die"
length = 0.25
step = 0.05
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("YSorter:scale")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.25),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector2(1, 1), Vector2(0, 0)]
}

[sub_resource type="Animation" id="Animation_eigs2"]
resource_name = "idle_down"
length = 0.6
loop_mode = 1
step = 0.1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("YSorter/EntitySprite:animation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [&"idle"]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("YSorter/EntitySprite:frame")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.1, 0.2, 0.3, 0.4, 0.5),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1),
"update": 1,
"values": [0, 1, 2, 3, 4, 5]
}

[sub_resource type="Animation" id="Animation_vjlik"]
resource_name = "idle_left_down"
length = 0.6
loop_mode = 1
step = 0.1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("YSorter/EntitySprite:animation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [&"idle"]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("YSorter/EntitySprite:frame")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.1, 0.2, 0.3, 0.4, 0.5),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1),
"update": 1,
"values": [18, 19, 20, 21, 22, 23]
}

[sub_resource type="Animation" id="Animation_5gwv1"]
resource_name = "idle_right_down"
length = 0.6
loop_mode = 1
step = 0.1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("YSorter/EntitySprite:animation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [&"idle"]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("YSorter/EntitySprite:frame")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.1, 0.2, 0.3, 0.4, 0.5),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1),
"update": 1,
"values": [12, 13, 14, 15, 16, 17]
}

[sub_resource type="Animation" id="Animation_cqenq"]
resource_name = "idle_up"
length = 0.6
loop_mode = 1
step = 0.1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("YSorter/EntitySprite:animation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [&"idle"]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("YSorter/EntitySprite:frame")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.1, 0.2, 0.3, 0.4, 0.5),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1),
"update": 1,
"values": [6, 7, 8, 9, 10, 11]
}

[sub_resource type="Animation" id="Animation_kuvhw"]
resource_name = "run_down"
length = 0.6
loop_mode = 1
step = 0.1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("YSorter/EntitySprite:animation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [&"run"]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("YSorter/EntitySprite:frame")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.1, 0.2, 0.3, 0.4, 0.5),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1),
"update": 1,
"values": [0, 1, 2, 3, 4, 5]
}

[sub_resource type="Animation" id="Animation_tsyff"]
resource_name = "run_left_down"
length = 0.6
loop_mode = 1
step = 0.1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("YSorter/EntitySprite:animation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [&"run"]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("YSorter/EntitySprite:frame")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.1, 0.2, 0.3, 0.4, 0.5),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1),
"update": 1,
"values": [18, 19, 20, 21, 22, 23]
}

[sub_resource type="Animation" id="Animation_pfgxp"]
resource_name = "run_right_down"
length = 0.6
loop_mode = 1
step = 0.1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("YSorter/EntitySprite:animation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [&"run"]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("YSorter/EntitySprite:frame")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.1, 0.2, 0.3, 0.4, 0.5),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1),
"update": 1,
"values": [12, 13, 14, 15, 16, 17]
}

[sub_resource type="Animation" id="Animation_6bt22"]
resource_name = "run_up"
length = 0.6
loop_mode = 1
step = 0.1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("YSorter/EntitySprite:animation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [&"run"]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("YSorter/EntitySprite:frame")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.1, 0.2, 0.3, 0.4, 0.5),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1),
"update": 1,
"values": [6, 7, 8, 9, 10, 11]
}

[sub_resource type="Animation" id="Animation_3l4yw"]
resource_name = "spawn"
length = 0.4
step = 0.1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("YSorter/EntitySprite:animation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [&"idle"]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("YSorter/EntitySprite:frame")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [0]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("YSorter:scale")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0, 0.1, 0.4),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 0,
"values": [Vector2(0, 0), Vector2(0, 0), Vector2(1, 1)]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_3l4yw"]
_data = {
&"RESET": SubResource("Animation_mbh3n"),
&"die": SubResource("Animation_u70e3"),
&"idle_down": SubResource("Animation_eigs2"),
&"idle_left_down": SubResource("Animation_vjlik"),
&"idle_right_down": SubResource("Animation_5gwv1"),
&"idle_up": SubResource("Animation_cqenq"),
&"run_down": SubResource("Animation_kuvhw"),
&"run_left_down": SubResource("Animation_tsyff"),
&"run_right_down": SubResource("Animation_pfgxp"),
&"run_up": SubResource("Animation_6bt22"),
&"spawn": SubResource("Animation_3l4yw")
}

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_eigs2"]
animation = &"die"

[sub_resource type="AnimationNodeTimeScale" id="AnimationNodeTimeScale_mbh3n"]

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_6bt22"]
animation = &"idle_down"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_cqenq"]
animation = &"idle_up"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_5gwv1"]
animation = &"idle_left_down"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_vjlik"]
animation = &"idle_right_down"

[sub_resource type="AnimationNodeBlendSpace2D" id="AnimationNodeBlendSpace2D_eigs2"]
blend_point_0/node = SubResource("AnimationNodeAnimation_6bt22")
blend_point_0/pos = Vector2(0, 1)
blend_point_1/node = SubResource("AnimationNodeAnimation_cqenq")
blend_point_1/pos = Vector2(0, -1)
blend_point_2/node = SubResource("AnimationNodeAnimation_5gwv1")
blend_point_2/pos = Vector2(-1, 1)
blend_point_3/node = SubResource("AnimationNodeAnimation_vjlik")
blend_point_3/pos = Vector2(1, 1)
blend_mode = 1

[sub_resource type="AnimationNodeBlendTree" id="AnimationNodeBlendTree_eigs2"]
graph_offset = Vector2(-518, -60)
nodes/TimeScale/node = SubResource("AnimationNodeTimeScale_mbh3n")
nodes/TimeScale/position = Vector2(-90, 50)
nodes/blendspace2d/node = SubResource("AnimationNodeBlendSpace2D_eigs2")
nodes/blendspace2d/position = Vector2(-290, 80)
nodes/output/position = Vector2(90, 50)
node_connections = [&"TimeScale", 0, &"blendspace2d", &"output", 0, &"TimeScale"]

[sub_resource type="AnimationNodeTimeScale" id="AnimationNodeTimeScale_3l4yw"]

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_kuvhw"]
animation = &"run_down"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_pfgxp"]
animation = &"run_down"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_tsyff"]
animation = &"run_up"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_dcca3"]
animation = &"run_left_down"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_hj6es"]
animation = &"run_right_down"

[sub_resource type="AnimationNodeBlendSpace2D" id="AnimationNodeBlendSpace2D_mbh3n"]
blend_point_0/node = SubResource("AnimationNodeAnimation_kuvhw")
blend_point_0/pos = Vector2(0, 1)
blend_point_1/node = SubResource("AnimationNodeAnimation_pfgxp")
blend_point_1/pos = Vector2(0, 1)
blend_point_2/node = SubResource("AnimationNodeAnimation_tsyff")
blend_point_2/pos = Vector2(0, -1)
blend_point_3/node = SubResource("AnimationNodeAnimation_dcca3")
blend_point_3/pos = Vector2(-1, 0)
blend_point_4/node = SubResource("AnimationNodeAnimation_hj6es")
blend_point_4/pos = Vector2(1, 0)
blend_mode = 1

[sub_resource type="AnimationNodeBlendTree" id="AnimationNodeBlendTree_mbh3n"]
graph_offset = Vector2(-339.84, 83.52)
nodes/TimeScale/node = SubResource("AnimationNodeTimeScale_3l4yw")
nodes/TimeScale/position = Vector2(30, 110)
nodes/blendspace2d/node = SubResource("AnimationNodeBlendSpace2D_mbh3n")
nodes/blendspace2d/position = Vector2(-240, 100)
node_connections = [&"TimeScale", 0, &"blendspace2d", &"output", 0, &"TimeScale"]

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_lm42a"]
animation = &"spawn"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_epk84"]
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_3l4yw"]
switch_mode = 2
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_u70e3"]

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_2qho1"]

[sub_resource type="AnimationNodeStateMachine" id="AnimationNodeStateMachine_eigs2"]
states/Start/position = Vector2(165.5, 143.5)
states/die/node = SubResource("AnimationNodeAnimation_eigs2")
states/die/position = Vector2(718, 98.25)
states/idle/node = SubResource("AnimationNodeBlendTree_eigs2")
states/idle/position = Vector2(475.75, -0.5)
states/run/node = SubResource("AnimationNodeBlendTree_mbh3n")
states/run/position = Vector2(476, 148.75)
states/spawn/node = SubResource("AnimationNodeAnimation_lm42a")
states/spawn/position = Vector2(310, 50.5)
transitions = ["Start", "spawn", SubResource("AnimationNodeStateMachineTransition_epk84"), "spawn", "idle", SubResource("AnimationNodeStateMachineTransition_3l4yw"), "idle", "run", SubResource("AnimationNodeStateMachineTransition_u70e3"), "run", "idle", SubResource("AnimationNodeStateMachineTransition_2qho1")]
graph_offset = Vector2(-37.58, -52.9375)

[node name="BasicZombie" type="CharacterBody2D" groups=["has_save_logic"]]
collision_layer = 0
collision_mask = 0
motion_mode = 1
script = ExtResource("1_8bt15")
team = 2
inv = SubResource("Resource_yrrsd")
loot = SubResource("Resource_oqrkc")

[node name="Collision" type="CollisionShape2D" parent="."]
position = Vector2(0, -3)
rotation = -1.5708
shape = SubResource("CapsuleShape2D_2h2fy")
debug_color = Color(0.66339, 0.512878, 0, 0.251)

[node name="NavigationAgent2D" type="NavigationAgent2D" parent="."]
avoidance_enabled = true
max_neighbors = 8
debug_use_custom = true
debug_path_custom_color = Color(1, 0.523276, 0.90389, 1)
debug_path_custom_point_size = 2.0
debug_path_custom_line_width = 0.5

[node name="DetectionComponent" parent="." instance=ExtResource("3_tsyff")]

[node name="LightOccluder2D" type="LightOccluder2D" parent="."]
scale = Vector2(1, 1.00514)
occluder = SubResource("OccluderPolygon2D_6bt22")

[node name="YSorter" type="Node2D" parent="."]

[node name="EntityShadow" parent="YSorter" instance=ExtResource("1_ko3ep")]

[node name="EntitySprite" parent="YSorter" instance=ExtResource("2_8a5el")]
unique_name_in_owner = true
material = SubResource("ShaderMaterial_lal78")
instance_shader_parameters/final_alpha = 1.0
instance_shader_parameters/outline_thickness = 0.0
instance_shader_parameters/override_color = Color(1, 1, 1, 0)
instance_shader_parameters/tint_color = Color(1, 1, 1, 0)
instance_shader_parameters/use_override_color = false
position = Vector2(0, -16)
sprite_frames = SubResource("SpriteFrames_gi80f")
animation = &"idle"
autoplay = "idle"
disable_floor_light = true
time_brightness_min_max = Vector2(1, 2.35)

[node name="StatusEffectsComponent" parent="YSorter" node_paths=PackedStringArray("effect_receiver") instance=ExtResource("5_g4fx3")]
unique_name_in_owner = true
effect_receiver = NodePath("../../EffectReceiverComponent")

[node name="HandsComponent" parent="YSorter" instance=ExtResource("6_j2ytj")]
unique_name_in_owner = true
hand_texture = ExtResource("9_5go1u")
time_brightness_min_max = Vector2(1, 1.9)

[node name="ParticleEmissionComponent" parent="." instance=ExtResource("3_6bt22")]
below_extents = Vector2(8, 1)

[node name="HealthComponent" parent="." instance=ExtResource("7_gh5xt")]

[node name="StaminaComponent" parent="." instance=ExtResource("10_kc883")]

[node name="EffectReceiverComponent" parent="." node_paths=PackedStringArray("affected_entity", "dmg_handler", "heal_handler") instance=ExtResource("8_u4xth")]
affected_entity = NodePath("..")
dmg_handler = NodePath("DmgHandler")
heal_handler = NodePath("HealHandler")
knockback_handler = SubResource("Resource_s1u3v")
stun_handler = SubResource("Resource_n5xoq")
poison_handler = SubResource("Resource_3s3sr")
regen_handler = SubResource("Resource_ylj7g")
frostbite_handler = SubResource("Resource_naanu")
burning_handler = SubResource("Resource_nonw0")
time_snare_handler = SubResource("Resource_6vrim")
life_steal_handler = SubResource("Resource_86drt")

[node name="CollisionShape2D" type="CollisionShape2D" parent="EffectReceiverComponent"]
position = Vector2(0, -14)
shape = SubResource("RectangleShape2D_2ks4g")
debug_color = Color(0.932, 0, 0.649, 0.122)

[node name="DmgHandler" parent="EffectReceiverComponent" instance=ExtResource("9_eigs2")]

[node name="HealHandler" parent="EffectReceiverComponent" instance=ExtResource("10_mbh3n")]

[node name="FacingComponent" parent="." instance=ExtResource("27_pfgxp")]

[node name="StateMachine" type="Node" parent="."]
script = ExtResource("27_5gwv1")
states = Array[ExtResource("33_qrtn1")]([SubResource("Resource_i4r08"), SubResource("Resource_kq2k7"), SubResource("Resource_175e0"), SubResource("Resource_gtdxm"), SubResource("Resource_6hj0o")])
print_state_changes = true

[node name="Controller" type="Node2D" parent="StateMachine"]
script = ExtResource("30_tsyff")
ray_start_offset = Vector2(0, -2)
behavior = ExtResource("40_lal78")
footstep_texture = ExtResource("25_kc883")
_max_speed = 60.0
_acceleration = 1000.0
_friction = 1300.0

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
libraries = {
&"": SubResource("AnimationLibrary_3l4yw")
}

[node name="AnimationTree" type="AnimationTree" parent="."]
callback_mode_process = 2
tree_root = SubResource("AnimationNodeStateMachine_eigs2")
anim_player = NodePath("../AnimationPlayer")
parameters/idle/TimeScale/scale = 1.0
parameters/idle/blendspace2d/blend_position = Vector2(0, 0)
parameters/run/TimeScale/scale = 1.0
parameters/run/blendspace2d/blend_position = Vector2(0, 0)
